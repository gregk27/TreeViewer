<html>
    <head>
        <title>278 Tree Viewer</title>
        <link rel="stylesheet" href="treant/Treant.css" type="text/css"/>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="parser.js"></script>
        <style>
            .node{
                border: 2px solid;
                text-align: center;
                padding: 5px;
            }

            .node>*{
                margin:0;
            }

            .node-name {
                font-weight: bold;
                color:blue;
            }

        </style>
    </head>
    <body style="background-color:rgb(200, 200, 200)">
        <textarea id="input" style="width:100%; height:10%; margin:auto; display:block; resize:none;"></textarea>
        <div id="tree-simple" style="width:100%; height:85%; margin:auto; background-color: white;"> </div>
        <div style="width:100%; height:1em; margin:auto; background-color: white;">Rendered using <a href="https://fperucic.github.io/treant-js/">Treant</a></div>
    </body>

    <script src="treant/vendor/raphael.js"></script>
    <script src="treant/Treant.js"></script>
    <script>
        /** @type {HTMLTextAreaElement} */
        let input = document.getElementById("input");
        input.value = "{(10,Base),{(5,Left),{(6,Left-Left),{},{}},{(6,Left-Right),{},{}}},{(7,Right),{},{}}}";
        input.oninput = () => {
                var format = {
                    chart: {
                        container: "#tree-simple",
                        connectors: {
                            type: "straight",
                            style: {
                                "stroke-width": 3
                            }
                        },
                        node: {
                            collapsable: true
                        }
                    },

                    nodeStructure: parse(input.value)
                };
                var my_chart = new Treant(format);
            }; 
            input.oninput();
    </script>
</html>